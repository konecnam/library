{% extends "layout.html" %}

{% block body %}
<h4 class="title_upload">Collection</h4>

<form action="{% url 'collection' %}" method="post">
    {% csrf_token %}
    <div class="mdl-textfield mdl-js-textfield">
        <input class="mdl-textfield__input" type="text" name="book_title" placeholder="Book title">
        <label class="mdl-textfield__label"></label>
    </div>

    <div class="mdl-textfield mdl-js-textfield">
        <input class="mdl-textfield__input" type="text" name="author" placeholder="Author">
        <label class="mdl-textfield__label"></label>
    </div>

    <div class="mdl-textfield mdl-js-textfield">
        <textarea class="mdl-textfield__input" type="text" rows="2" name="book_description"
            placeholder="Book description"></textarea>
        <label class="mdl-textfield__label">Book description</label>
    </div>

    <div class="mdl-textfield mdl-js-textfield">
        <input class="mdl-textfield__input" type="text" name="image" placeholder="Image">
        <label class="mdl-textfield__label"></label>
    </div>

    <input class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent  upload_book"
        type="submit" value="Save">
</form>

<h4 class="title_upload">Saved Books</h4>
<div>
    {% if books %}
    {% for book in books %}
    <div class="book_image_collection">
        <div class="demo-card-square mdl-card small mdl-shadow--2dp">
            <div class="mdl-card__media small" style="background: url('{{book.image}}'); background-position: center; background-repeat: no-repeat; background-size: 140px 200px;">
                <!-- {% if book.image %} -->
                <!-- {% else %}
                    style="display: flex; align-items: center; justify-content: center; background-color: #f0f0f0; color: #888; width: 100%; height: 100%;"
                    <p>Obrázek není k dispozici</p>
                {% endif %} -->
            </div>
        </div>
        <div class="text-container">
            <h6 class="title_book">{{ book.book_title }}</h5>
            <h6>{{ book.author }}</h5>
            <p>Book description: {{ book.book_description }}</p>
        </div>
    </div>
    {% endfor %}
    {% else %}
        <p>No books saved yet.</p>
    {% endif %}
</div>


{% endblock %}